(this["webpackJsonpcopy-library"]=this["webpackJsonpcopy-library"]||[]).push([[0],{27:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},40:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),o=r(28),s=r.n(o),a=(r(36),r(37),r(38),r(0)),l=function(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("img",{className:"logo",src:"logo192.png",alt:""}),Object(a.jsx)("h1",{children:"React's library"}),Object(a.jsx)("hr",{className:"style-three"})]})},i=r(12),d=r(2),j=(r(40),r(31)),u=r(29),b=r.n(u),O=r(13),h=r(8),x=(new Date).toISOString().slice(0,10),k={library:[],borrowedBooks:[],resultsBorrowedBooks:0,checked:!1,inputValue:"",actualDate:"",calendarDate:"",returnedBooks:[],resultsReturnedBooks:0};function p(e,t){switch(t.type){case"FETCH_SUCCESS":return{library:t.payload,borrowedBooks:[],resultsBorrowedBooks:0,returnedBooks:[],resultsReturnedBooks:0,checked:!1,actualDate:x};case"CHANGE_VALUE_INPUT":return Object(h.a)(Object(h.a)({},e),{},{inputValue:t.payload});case"CHANGE_VALUE_CHECKBOX":return Object(h.a)(Object(h.a)({},e),{},{checked:t.payload});case"CHANGE_DATE":return Object(h.a)(Object(h.a)({},e),{},{actualDate:t.payload});case"BORROW_A_BOOK":return{returnedBooks:Object(O.a)(e.returnedBooks),borrowedBooks:[].concat(Object(O.a)(e.borrowedBooks),[t.payload[0]]),library:e.library.filter((function(e){return e.title!==t.payload[0].title})),resultsBorrowedBooks:e.borrowedBooks.length+1,resultsReturnedBooks:e.resultsReturnedBooks,actualDate:x};case"GIVEBACK_A_BOOK":return Object(h.a)(Object(h.a)({},e),{},{borrowedBooks:e.borrowedBooks.filter((function(e){return e.id!==t.payload.id})),resultsBorrowedBooks:e.borrowedBooks.length-1,returnedBooks:[].concat(Object(O.a)(e.returnedBooks),[t.payload]),resultsReturnedBooks:e.returnedBooks.length+1});case"CONFIRM_GIVEBACK_BOOK":return Object(h.a)(Object(h.a)({},e),{},{library:[].concat(Object(O.a)(e.library),[t.payload]),returnedBooks:e.returnedBooks.filter((function(e){return e.id!==t.payload.id})),resultsReturnedBooks:e.returnedBooks.length-1});default:return e}}var B=Object(c.createContext)();var f=function(e){var t=e.children,r=Object(c.useReducer)(p,k),n=Object(j.a)(r,2),o=n[0],s=n[1];Object(c.useEffect)((function(){b.a.get("data/jsonTab.json").then((function(e){s({type:"FETCH_SUCCESS",payload:e.data.books})}))}),[]);var l=o.library.filter((function(e){return e.title===o.inputValue}));return Object(a.jsx)(B.Provider,{value:{addBook:function(e){e.preventDefault(),o.inputValue&&(o.library.forEach((function(e){o.checked?e.important=!0:e.important=!1,o.actualDate?e.date=o.actualDate:e.date=x})),s({type:"BORROW_A_BOOK",payload:l}))},inputValue:o.inputValue,onChangeValueInput:function(e){s({type:"CHANGE_VALUE_INPUT",payload:e})},library:o.library,checked:o.checked,onCheckBox:function(e){s({type:"CHANGE_VALUE_CHECKBOX",payload:e})},actualDate:o.actualDate,minDate:x,onChangeDate:function(e){s({type:"CHANGE_DATE",payload:e})},borrowedBooks:o.borrowedBooks,dispatch:s,returnedBooks:o.returnedBooks,resultsBorrowedBooks:o.resultsBorrowedBooks,resultsReturnedBooks:o.resultsReturnedBooks},children:t})},m=function(){var e=Object(c.useContext)(B);return Object(a.jsx)("nav",{className:"nav",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsxs)(i.b,{exact:!0,to:"/",children:["Borrowed books ",Object(a.jsxs)("em",{children:["(",e.resultsBorrowedBooks,")"]})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(i.b,{to:"/returnedBooks",children:["Given books ",Object(a.jsxs)("em",{children:["(",e.resultsReturnedBooks,")"]})]})})]})})};r(67);function y(){var e=Object(c.useContext)(B),t=1*e.minDate.slice(0,4)+1+"-12-31";return Object(a.jsx)("nav",{className:"menu",children:Object(a.jsxs)("form",{onSubmit:e.addBook,children:[Object(a.jsxs)("select",{value:e.inputValue,onChange:function(t){return e.onChangeValueInput(t.target.value)},children:[Object(a.jsx)("option",{children:"Borrow a book:"}),e.library.map((function(e){return Object(a.jsx)("option",{value:e.title,children:e.title},e.id)}))]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",checked:e.checked,onChange:function(t){return e.onCheckBox(t.target.checked)}}),Object(a.jsx)("label",{children:"Priority"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"date",children:" Time to give back a book: "}),Object(a.jsx)("input",{type:"date",value:e.actualDate,min:e.minDate,max:t,onChange:function(t){return e.onChangeDate(t.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{className:"new4"}),Object(a.jsx)("div",{className:"centerize",children:Object(a.jsx)("button",{children:"BORROW"})})]})})}r(27);function C(){var e=Object(c.useContext)(B),t={color:"red"},r=e.borrowedBooks.sort((function(e,t){return e.id-t.id}));return e.borrowedBooks.length>0?Object(a.jsx)("div",{className:"active",children:Object(a.jsx)("section",{className:"gallery",children:r.map((function(r){return Object(a.jsxs)("div",{className:"book",children:[Object(a.jsx)("span",{className:"bolder",children:r.id}),Object(a.jsx)("img",{src:r.cover.small,alt:""}),Object(a.jsx)("h3",{children:r.title}),Object(a.jsx)("hr",{className:"new"}),Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:Object(a.jsxs)("span",{className:"lighter",children:["By ",r.author]})})}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("i",{children:["Release Date: ",r.releaseDate,Object(a.jsx)("br",{}),"Pages: ",r.pages,Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Links: ",Object(a.jsx)("a",{href:r.link,children:"shop"})]})]}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:Object(a.jsxs)("em",{style:r.important?t:null,children:["(give back to: ",r.date.replace(/(\d{4})-(\d\d)-(\d\d)/,"$3-$2-$1"),")"]})}),Object(a.jsx)("button",{onClick:function(){return e.dispatch({type:"GIVEBACK_A_BOOK",payload:r})},children:"Give back a book"})]})]},r.id)}))})}):Object(a.jsx)("p",{children:"No borrowed books "})}function g(){var e=Object(c.useContext)(B),t=e.returnedBooks.sort((function(e,t){return e.id-t.id}));return e.returnedBooks.length>0?Object(a.jsx)("div",{className:"active",children:Object(a.jsx)("section",{className:"gallery",children:t.map((function(t){return Object(a.jsxs)("div",{className:"book",children:[Object(a.jsx)("span",{className:"bolder",children:t.id}),Object(a.jsx)("img",{src:t.cover.small,alt:""}),Object(a.jsx)("h3",{children:t.title}),Object(a.jsx)("hr",{className:"new"}),Object(a.jsx)("h4",{children:Object(a.jsx)("i",{children:Object(a.jsxs)("span",{className:"lighter",children:["By ",t.author]})})}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("i",{children:["Release Date: ",t.releaseDate,Object(a.jsx)("br",{}),"Pages: ",t.pages,Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["Links: ",Object(a.jsx)("a",{href:t.link,children:"shop"})]})]}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:Object(a.jsxs)("em",{children:["(confirm returned book: ",t.date.replace(/(\d{4})-(\d\d)-(\d\d)/,"$3-$2-$1"),")"]})}),Object(a.jsx)("button",{onClick:function(){return e.dispatch({type:"CONFIRM_GIVEBACK_BOOK",payload:t})},className:"confirm",children:"Confirm returned book"})]})]},t.id)}))})}):Object(a.jsx)("p",{children:"All books are returned"})}var v=function(){return Object(a.jsx)(i.a,{children:Object(a.jsx)("div",{className:"grid",children:Object(a.jsxs)(f,{children:[Object(a.jsx)(l,{}),Object(a.jsx)(y,{}),Object(a.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(C,{})}}),Object(a.jsx)(d.a,{path:"/returnedBooks",render:function(){return Object(a.jsx)(g,{})}}),Object(a.jsx)(m,{})]})})})},N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,69)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),o(e),s(e)}))};s.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),N()}},[[68,1,2]]]);
//# sourceMappingURL=main.4e3e9494.chunk.js.map